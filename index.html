<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Self-Employed vs Limited Company - 2025/26 (England/Wales)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
  :root { --gap:14px; --pad:16px; --radius:10px; --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; }
  *{ box-sizing:border-box }
  body{ font-family:var(--font); margin:0; padding:24px; background:#0f172a; color:#e5e7eb }
  h1{ font-size:22px; margin:0 0 8px }
  .hint{ margin:0 0 18px; color:#a3a3a3; font-size:13px }
  .grid{ display:grid; grid-template-columns:1fr 1fr; gap:var(--gap) }
  .card{ background:#111827; border:1px solid #1f2937; border-radius:var(--radius); padding:var(--pad) }
  .inputs{ display:grid; grid-template-columns:1fr 1fr; gap:var(--gap) }
  label{ display:block; font-size:13px; color:#c7cbd1; margin-bottom:6px }
  input,select,button{ font:inherit }
  input,select{ width:100%; padding:10px 12px; border-radius:8px; border:1px solid #374151; background:#0b1220; color:#f3f4f6 }
  input[type="checkbox"]{ width:auto }
  .kpi{ display:grid; grid-template-columns:repeat(3, 1fr); gap:var(--gap); margin-top:10px }
  .kpi > div{ background:#0b1220; border:1px solid #1f2937; border-radius:10px; padding:12px; text-align:center }
  .kpi h3{ margin:0 0 6px; font-size:13px; color:#9ca3af; font-weight:500 }
  .kpi .val{ font-size:20px; font-weight:700 }
  table{ width:100%; border-collapse:collapse }
  th,td{ padding:10px 8px; border-bottom:1px solid #1f2937; font-size:13px }
  th{ text-align:left; color:#9ca3af; font-weight:600 }
  tfoot td{ font-weight:700 }
  .danger{ color:#fca5a5 }
  .good{ color:#86efac }
  .tiny{ font-size:12px; color:#9ca3af }
  .btn{ margin-top:10px; padding:10px 14px; border-radius:8px; border:1px solid #374151; background:#0b1220; color:#e5e7eb; cursor:pointer }
  .note{ margin-top:8px; font-size:12px; color:#9ca3af }
  @media (max-width: 960px){
    .grid{ grid-template-columns:1fr }
    .inputs{ grid-template-columns:1fr }
    .kpi{ grid-template-columns:1fr }
  }
</style>
</head>
<body>
  <h1>Self-Employed vs Limited Company - 2025/26 (England/Wales)</h1>
  <p class="hint">Assumptions: PA £12,570 with taper to £0 between £100k and £125,140. Income tax 20/40/45. Dividend allowance £500. Dividend rates 8.75/33.75/39.35. Self-employed NI Class 4 at 6% and 2%. Employee NI 8% then 2%. Employer NI 13.8% above secondary threshold. Employment Allowance £5,000. Planning tool only.</p>

  <div class="grid">
    <div class="card">
      <h2 style="margin-top:0">Inputs</h2>
      <div class="inputs">
        <div>
          <label for="profits">Business profits (before drawings)</label>
          <input id="profits" type="number" min="0" step="100" value="80000">
        </div>
        <div>
          <label for="otherEarned">Other earned income (salary, rent, interest)</label>
          <input id="otherEarned" type="number" min="0" step="100" value="0">
        </div>
        <div>
          <label for="otherDivs">Other dividends (not from your company)</label>
          <input id="otherDivs" type="number" min="0" step="100" value="0">
        </div>
        <div>
          <label for="assocCos">Associated companies (for CT limits)</label>
          <input id="assocCos" type="number" min="0" step="1" value="0">
        </div>
        <div>
          <label for="months">Accounting period length (months)</label>
          <input id="months" type="number" min="1" max="12" step="1" value="12">
        </div>
        <div>
          <input id="ea" type="checkbox" checked>
          <label for="ea">Employment Allowance available</label>
        </div>
      </div>
      <button id="recalcBtn" class="btn">Recalculate</button>
      <div class="note">Ltd Co salary policy: EA on -> salary £12,570. EA off -> salary £9,100 to avoid employer NI.</div>
    </div>

    <div class="card">
      <h2 style="margin-top:0">Headline comparison</h2>
      <div class="kpi">
        <div>
          <h3>Total tax - Self-employed</h3>
          <div class="val" id="seTax">£0</div>
        </div>
        <div>
          <h3>Total tax - Ltd Co</h3>
          <div class="val" id="coTax">£0</div>
        </div>
        <div>
          <h3>Take-home difference</h3>
          <div class="val" id="diff">£0</div>
          <div class="tiny" id="whichBetter"></div>
        </div>
      </div>
    </div>
  </div>

  <div class="grid" style="margin-top:var(--gap);">
    <div class="card">
      <h3 style="margin-top:0">Self-employed breakdown</h3>
      <table>
        <tbody id="seRows"></tbody>
        <tfoot>
          <tr><td><strong>Total tax</strong></td><td class="danger" id="seTotalTax">£0</td></tr>
          <tr><td><strong>Take-home</strong></td><td class="good" id="seTakeHome">£0</td></tr>
        </tfoot>
      </table>
    </div>

    <div class="card">
      <h3 style="margin-top:0">Limited company breakdown</h3>
      <table>
        <tbody id="coRows"></tbody>
        <tfoot>
          <tr><td><strong>Total tax</strong></td><td class="danger" id="coTotalTax">£0</td></tr>
          <tr><td><strong>Take-home</strong></td><td class="good" id="coTakeHome">£0</td></tr>
        </tfoot>
      </table>
    </div>
  </div>

<script>
(function(){
  // 2025-26 constants
  const PA = 12570;
  const PA_TAPER_START = 100000;
  const PA_TAPER_END = 125140;

  const BASIC_BAND = 37700;
  const ADDITIONAL_THRESHOLD = 125140;

  const IT_BASIC = 0.20;
  const IT_HIGHER = 0.40;
  const IT_ADDITIONAL = 0.45;

  const DIV_ALLOWANCE = 500;
  const DIV_BASIC = 0.0875;
  const DIV_HIGHER = 0.3375;
  const DIV_ADDITIONAL = 0.3935;

  // Self-employed NI Class 4
  const C4_LPL = 12570;
  const C4_UPL = 50270;
  const C4_MAIN = 0.06;
  const C4_UPPER = 0.02;

  // Employee NI
  const EMP_PRIMARY_PT = 12570;
  const EMP_UPPER_EARN = 50270;
  const EMP_NI_MAIN = 0.08;
  const EMP_NI_UPPER = 0.02;

  // Employer NI
  const ER_SECONDARY_ST = 9100;
  const ER_NI = 0.138;
  const EMPLOYMENT_ALLOWANCE = 5000;

  // Corporation tax
  const CT_SMALL = 0.19;
  const CT_MAIN = 0.25;
  const CT_LOWER_LIMIT_ANNUAL = 50000;
  const CT_UPPER_LIMIT_ANNUAL = 250000;

  // Helpers
  function fmtGBP(n){ return "£" + Number(n).toLocaleString("en-GB",{maximumFractionDigits:0}); }
  function clamp(v,a,b){ return Math.max(a, Math.min(b, v)); }

  function taperedPA(adjustedNetIncome){
    if (adjustedNetIncome <= PA_TAPER_START) return PA;
    if (adjustedNetIncome >= PA_TAPER_END) return 0;
    const reduction = Math.floor((adjustedNetIncome - PA_TAPER_START)/2);
    return Math.max(0, PA - reduction);
  }

  function taxOnNSND(totalNSND, paAvailable){
    let remaining = Math.max(0, totalNSND - paAvailable);
    const basicSlice = Math.min(remaining, BASIC_BAND);
    const higherSlice = Math.min(Math.max(remaining - BASIC_BAND, 0), ADDITIONAL_THRESHOLD - (PA + BASIC_BAND));
    const addSlice = Math.max(remaining - BASIC_BAND - higherSlice, 0);
    return basicSlice*IT_BASIC + higherSlice*IT_HIGHER + addSlice*IT_ADDITIONAL;
  }

  function taxOnDividends(totalDivs, nsndTaxableAfterPA){
    if (totalDivs <= 0) return 0;
    let remaining = totalDivs;

    // apply allowance
    const usedAllow = Math.min(DIV_ALLOWANCE, remaining);
    remaining -= usedAllow;
    if (remaining <= 0) return 0;

    // bands left after NSND
    const nsndAfterPA = Math.max(0, nsndTaxableAfterPA);
    const basicLeft = Math.max(0, BASIC_BAND - nsndAfterPA);

    const atBasic = Math.min(basicLeft, remaining);
    remaining -= atBasic;

    const hrBandWidth = Math.max(0, ADDITIONAL_THRESHOLD - (PA + BASIC_BAND));
    const nsndBeyondBasic = Math.max(0, nsndAfterPA - BASIC_BAND);
    const hrLeft = Math.max(0, hrBandWidth - nsndBeyondBasic);

    const atHigher = Math.min(hrLeft, remaining);
    remaining -= atHigher;

    const atAdditional = Math.max(0, remaining);

    return atBasic*DIV_BASIC + atHigher*DIV_HIGHER + atAdditional*DIV_ADDITIONAL;
  }

  function class4NI(profits){
    const main = clamp(profits - C4_LPL, 0, C4_UPL - C4_LPL) * C4_MAIN;
    const upper = Math.max(0, profits - C4_UPL) * C4_UPPER;
    return main + upper;
  }

  function employeeNI(salary){
    const main = clamp(salary - EMP_PRIMARY_PT, 0, EMP_UPPER_EARN - EMP_PRIMARY_PT) * EMP_NI_MAIN;
    const upper = Math.max(0, salary - EMP_UPPER_EARN) * EMP_NI_UPPER;
    return main + upper;
  }

  function employerNI(salary){
    return Math.max(0, salary - ER_SECONDARY_ST) * ER_NI;
  }

  function corporationTax(profits, assocCount, months){
    const companies = Math.max(1, 1 + Number(assocCount||0)); // company + associated
    const period = clamp(Number(months||12), 1, 12);
    const lower = CT_LOWER_LIMIT_ANNUAL / companies * (period/12);
    const upper = CT_UPPER_LIMIT_ANNUAL / companies * (period/12);

    if (profits <= 0) return { ct:0, rate:0, lower, upper };
    if (profits <= lower) return { ct: profits*CT_SMALL, rate: CT_SMALL, lower, upper };
    if (profits >= upper) return { ct: profits*CT_MAIN, rate: CT_MAIN, lower, upper };

    // marginal relief
    const MR_FRACTION = 3/200;
    const augmented = profits; // approximation
    const mainCharge = profits * CT_MAIN;
    const MR = (upper - profits) * MR_FRACTION * (profits / augmented);
    const ct = mainCharge - MR;
    return { ct, rate: ct/profits, lower, upper };
  }

  function row(label, val){
    const tr = document.createElement("tr");
    tr.innerHTML = `<td>${label}</td><td style="text-align:right">${fmtGBP(Math.round(val))}</td>`;
    return tr;
  }

  function calc(){
    const profits = Number(document.getElementById("profits").value || 0);
    const otherEarned = Number(document.getElementById("otherEarned").value || 0);
    const otherDivs = Number(document.getElementById("otherDivs").value || 0);
    const assocCos = Number(document.getElementById("assocCos").value || 0);
    const months = Number(document.getElementById("months").value || 12);
    const eaOn = document.getElementById("ea").checked;

    // Self-employed
    const seANI = profits + otherEarned + otherDivs;
    const sePA = taperedPA(seANI);
    const seNSND = profits + otherEarned;
    const seNSNDafterPA = Math.max(0, seNSND - sePA);
    const seIT = taxOnNSND(seNSND, sePA);
    const seDivTax = taxOnDividends(otherDivs, seNSNDafterPA);
    const seC4 = class4NI(profits);
    const seTotalTax = seIT + seDivTax + seC4;
    const seTakeHome = (profits + otherEarned + otherDivs) - seTotalTax;

    // Limited company
    const salary = eaOn ? 12570 : 9100;
    const coANIbase = salary + otherEarned + otherDivs;
    const coPA = taperedPA(coANIbase);
    const salaryAfterPA = Math.max(0, salary - coPA);
    const paye = taxOnNSND(salary, coPA);

    const erNIgross = employerNI(salary);
    const eaCredit = Math.min(EMPLOYMENT_ALLOWANCE, erNIgross);
    const erNI = Math.max(0, erNIgross - (eaOn ? eaCredit : 0));

    const ctProfit = Math.max(0, profits - salary - erNI);
    const { ct, rate: ctEffRate, lower: ctLower, upper: ctUpper } = corporationTax(ctProfit, assocCos, months);
    const postCT = Math.max(0, ctProfit - ct);

    const coDivsTotal = postCT + otherDivs;
    const bandsUsedByNSND = salaryAfterPA + Math.max(0, otherEarned - Math.max(0, coPA - salary));
    const coDivTax = taxOnDividends(coDivsTotal, bandsUsedByNSND);
    const empNI = employeeNI(salary);

    const coTotalTax = ct + paye + empNI + erNI + coDivTax;
    const coTakeHome = salary - paye - empNI + postCT - coDivTax + otherEarned + otherDivs;

    // Headline
    document.getElementById("seTax").textContent = fmtGBP(Math.round(seTotalTax));
    document.getElementById("coTax").textContent = fmtGBP(Math.round(coTotalTax));
    const diff = coTakeHome - seTakeHome;
    document.getElementById("diff").textContent = fmtGBP(Math.round(Math.abs(diff)));
    document.getElementById("whichBetter").textContent = diff >= 0 ? "Ltd Co take-home higher" : "Self-employed take-home higher";

    // SE table
    const seRows = document.getElementById("seRows");
    seRows.innerHTML = "";
    seRows.appendChild(row("Personal allowance applied", sePA));
    seRows.appendChild(row("Income tax on profits plus other earned", seIT));
    seRows.appendChild(row("Dividend tax on other dividends", seDivTax));
    seRows.appendChild(row("Class 4 NI", seC4));
    document.getElementById("seTotalTax").textContent = fmtGBP(Math.round(seTotalTax));
    document.getElementById("seTakeHome").textContent = fmtGBP(Math.round(seTakeHome));

    // Ltd Co table
    const coRows = document.getElementById("coRows");
    coRows.innerHTML = "";
    coRows.appendChild(row("Assumed salary", salary));
    coRows.appendChild(row("PAYE income tax on salary", paye));
    coRows.appendChild(row("Employee NI on salary", empNI));
    coRows.appendChild(row("Employer NI on salary after EA", erNI));
    coRows.appendChild(row("CT profit after salary and ER NI", ctProfit));
    coRows.appendChild(row("Corporation tax", ct));
    coRows.appendChild(row("Post CT profit available for dividends", postCT));
    coRows.appendChild(row("Dividend tax including other dividends", coDivTax));
    const limits = document.createElement("tr");
    limits.innerHTML = `<td>CT small and main limits (period adjusted)</td><td style="text-align:right" class="tiny">Lower: ${fmtGBP(Math.round(ctLower))} | Upper: ${fmtGBP(Math.round(ctUpper))}</td>`;
    coRows.appendChild(limits);

    document.getElementById("coTotalTax").textContent = fmtGBP(Math.round(coTotalTax));
    document.getElementById("coTakeHome").textContent = fmtGBP(Math.round(coTakeHome));
  }

  // Wire up
  ["profits","otherEarned","otherDivs","assocCos","months","ea"].forEach(id=>{
    const el = document.getElementById(id);
    el.addEventListener("input", calc);
    el.addEventListener("change", calc);
  });
  document.getElementById("recalcBtn").addEventListener("click", calc);
  document.addEventListener("DOMContentLoaded", calc);
  // Also run immediately in case DOMContentLoaded already fired
  calc();
})();
</script>
</body>
</html>
